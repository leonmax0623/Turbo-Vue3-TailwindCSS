var e=Object.defineProperty,t=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(t,l,n)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[l]=n,a=(e,a)=>{for(var o in a||(a={}))l.call(a,o)&&s(e,o,a[o]);if(t)for(var o of t(a))n.call(a,o)&&s(e,o,a[o]);return e};import{p as o,S as u,ay as r,H as i,m as c,az as v,q as m}from"./vendor.36c281f3.js";import{_ as f}from"./Dialog.b36041f9.js";import{_ as p}from"./Spinner.2e0ab286.js";import{_ as y}from"./Button.4b020695.js";const d={loading:!1,title:"Подтверждаете удаление ?",text:"",resultMsg:null,success:!0,icon:null},j=o("div",{class:"my-5 flex justify-center"},[o(p)]),x=(...e)=>{const t=u(!0);t.run((()=>{let l;const{loading:n,title:s,text:u,resultMsg:p,success:x,icon:b}=r(i(a({},d)));let g,T;const C=()=>{clearTimeout(g),T&&(T.unmount(),T=void 0,t.stop())},M=o(y,{class:"mx-3 justify-center",innerHTML:"Закрыть",onClick:C}),O=o(y,{class:"mx-3 justify-center",innerHTML:"продолжить",color:"red",onClick:async()=>{var e,t;n.value=!0;try{let s;s=l instanceof Function?await l():{},x.value=null!=(e=null==s?void 0:s.success)&&e,p.value=null!=(t=null==s?void 0:s.message)?t:"Что-то пошло не так !"}finally{n.value=!1,b.value=null}}}),w=o("div",{class:"mt-5 sm:mt-6 flex justify-center items-end"},[M,O]),H=c({render:()=>o(f,{open:!0,onClose:C,type:x.value?"success":"danger",icon:b.value},{title:()=>{var e;return null!=(e=p.value)?e:s.value},text:()=>p.value?null:o(n.value?j:o("span",u.value)),actions:()=>p.value?null:w})});b.value=v,((e,t,n,a)=>{l=e,u.value=null!=t?t:d.text,s.value=null!=n?n:d.title,x.value=null!=a&&a,T=m(H),T.mount("#sto-confirm"),g=setTimeout(C,"15000")})(...e)}))},b=(...e)=>{const t=u(!0);t.run((()=>{let l;const{title:n,text:s,icon:u}=r(i(a({},d)));let p,j;const x=()=>{clearTimeout(p),u.value=null,j&&(j.unmount(),j=void 0,t.stop())},b=o(y,{class:"mx-3 justify-center",innerHTML:"Закрыть",onClick:x}),g=o(y,{class:"mx-3 justify-center",innerHTML:"продолжить",color:"red",onClick:async()=>{try{l instanceof Function&&await l()}finally{x()}}}),T=o("div",{class:"mt-5 sm:mt-6 flex justify-center items-end"},[b,g]),C=c({render:()=>o(f,{open:!0,onClose:x,type:"danger",icon:u.value},{title:()=>n.value,text:()=>s.value,actions:()=>T})});u.value=v,((e,t,a)=>{l=e,s.value=null!=t?t:d.text,n.value=null!=a?a:d.title,j=m(C),j.mount("#sto-confirm"),p=setTimeout(x,"15000")})(...e)}))};var g=()=>({drop:x,simple:b});export{g as u};
