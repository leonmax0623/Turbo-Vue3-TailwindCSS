var e=Object.defineProperty,r=Object.defineProperties,a=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,p=(r,a,o)=>a in r?e(r,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[a]=o,n=(e,r)=>{for(var a in r||(r={}))s.call(r,a)&&p(e,a,r[a]);if(o)for(var a of o(r))t.call(r,a)&&p(e,a,r[a]);return e};import{$ as i,_ as c}from"./drop.cce90c26.js";import{u as l}from"./useConfirmDialog.ba73d887.js";import{c as d}from"./index.8fc70fb6.js";import{H as g,a as f,c as u}from"./vendor.36c281f3.js";const m=d("crud processes"),{drop:w}=l(),b=g({raw:[],pages:100,page:1,pending:!1});var y={state:f(b),reset:()=>{b.raw=[],b.pages=100,b.page=1},load:async()=>{b.raw=await i.process_categories()},drop:e=>w((async()=>c.process_category(e,(e=>{b.raw.deleteById(e)})))),fill:async e=>{var o,s,t;if(b.pending)return;if(!m)return;if(b.page>b.pages)return;b.pending=!0;const p=await i({key:"process_categories",params:(c=n({},e),l={page:b.page},r(c,a(l)))});var c,l;b.raw=b.raw.concat(null!=(o=null==p?void 0:p.process_categories)?o:[]),b.pages=null!=(t=null==(s=null==p?void 0:p.meta)?void 0:s.last_page)?t:100,b.page+=1,b.pending=!1},addItem:e=>{const r=b.raw.findIndex((({id:r})=>(null==e?void 0:e.id)==r));r<0?b.raw.push(e):b.raw[r]=e},options:u((()=>b.raw.map((({id:e,name:r})=>({label:r,value:e})))))};export{y as p};
