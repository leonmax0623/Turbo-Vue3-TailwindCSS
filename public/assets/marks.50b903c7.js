var a=Object.defineProperty,r=Object.defineProperties,e=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,p=(r,e,n)=>e in r?a(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,s=(a,r)=>{for(var e in r||(r={}))t.call(r,e)&&p(a,e,r[e]);if(n)for(var e of n(r))o.call(r,e)&&p(a,e,r[e]);return a};import{$ as i,_ as c}from"./drop.cce90c26.js";import{c as l}from"./index.8fc70fb6.js";import{H as d,a as f,c as g}from"./vendor.36c281f3.js";const m=l("crud car marks"),u=d({raw:[],pages:100,page:1,pending:!1});var w={state:f(u),reset:()=>{u.raw=[],u.pages=100,u.page=1},load:async()=>{m&&(u.raw=await i.car_marks())},drop:async a=>c.car_mark(a,(a=>{u.raw.deleteById(a)})),add:a=>{const r=u.raw.findIndex((({id:r})=>(null==a?void 0:a.id)==r));r<0?u.raw.push(a):u.raw[r]=a},fill:async a=>{var n,t,o;if(u.pending)return;if(!m)return;if(u.page>u.pages)return;u.pending=!0;const p=await i({key:"car_marks",params:(c=s({},a),l={page:u.page},r(c,e(l)))});var c,l;u.raw=u.raw.concat(null!=(n=null==p?void 0:p.car_marks)?n:[]),u.pages=null!=(o=null==(t=null==p?void 0:p.meta)?void 0:t.last_page)?o:100,u.page+=1,u.pending=!1},options:g((()=>u.raw.map((({id:a,name:r})=>({value:a,label:r})))))};export{w as s};
