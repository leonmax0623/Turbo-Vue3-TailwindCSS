var e=Object.defineProperty,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,o=(t,r,a)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,s=(e,s)=>{for(var n in s||(s={}))r.call(s,n)&&o(e,n,s[n]);if(t)for(var n of t(s))a.call(s,n)&&o(e,n,s[n]);return e};import{f as n,h as i}from"./useAvatar.7737e550.js";import{d as l}from"./departments.4f88a00d.js";import{o as m}from"./useOrder.941ce970.js";import{s as d}from"./index.e517b156.js";import{p as f}from"./index.ce6adbb1.js";import{S as c,H as u,o as p,f as b,J as j,u as v}from"./vendor.36c281f3.js";import{d as y}from"./index.8fc70fb6.js";import{_ as w}from"./Avatar.4eeca634.js";const{state:g,load:O,options:_,funnelById:D}=f,{sort:h,fill:x,reset:T,state:k}=d,{current:E}=l,I={id:{label:"По умолчанию",sort:(e,t)=>e.id-t.id},name:{label:"По имени",sort:(e,t)=>e.name>t.name?1:e.name<t.name?-1:0},date:{label:"По дате",sort:(e,t)=>new Date(e.created_at).getTime()-new Date(t.created_at).getTime()}};let P,S,A;const B=()=>{P=void 0,S=void 0},F=async(e=!1,t)=>{e&&T(),await x(s(s({},n(P)),t),!1)},$=()=>(S||(S=u({from:i(new Date(Date.now())),to:i(new Date)})),S),H=()=>{Object.keys(P).forEach((e=>{P[e]=""}))};var J=()=>c().run((()=>{const e=m(I,"id",(e=>{h(e)}),1);return P||(P=u({name:"",status:"",order_id:"",order:""})),A||(A=u({})),{order:e,filter:P,resetFilter:H,fetchTasks:F,current:E,clearMemo:B,state:k,initTimeEdges:$,edge:S,options:_,selection:A,loadFunnels:O,funnelState:g,funnelById:D}}));const M={setup(e){const{user:t}=y();return(e,r)=>{var a,o;return p(),b(w,{title:`${null!=(a=v(t).name)?a:""} ${null!=(o=v(t).middle_name)?o:""}`,image:v(t).avatar,worker:!0},{subtitle:j((()=>[])),_:1},8,["title","image"])}}};export{M as _,J as s};
