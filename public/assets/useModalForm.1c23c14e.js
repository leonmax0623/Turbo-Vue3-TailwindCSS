import{L as t,M as e,o as a,f as s,J as o,d as l,e as n,i,l as u,t as r,K as m,h as d,Z as c,r as v,q as f,m as p,p as g,aA as y}from"./vendor.36c281f3.js";import{_ as b}from"./FormActions.47218f8a.js";import{u as w}from"./useSuspense.29183c13.js";import{k as x}from"./useAvatar.7737e550.js";t("data-v-6530afc5");const h={class:"bg-white rounded-md p-7 pb-9 m-3 mt-96 sm:mt-3 shadow-2xl modal-content"},k={class:"text-lg leading-6 font-medium text-gray-700 mb-2 text-center"},S={class:"text-red-600 text-sm font-normal mt-2"};e();const $={props:{title:{type:String,required:!1,default:""},message:{type:String,required:!1},open:{type:Boolean,default:!1}},emits:["outclick"],setup(t){const e=t;return(t,v)=>(a(),s(c,{name:"modal"},{default:o((()=>[e.open?(a(),l("div",{key:0,class:"absolute p-9 bg-gray-800 inset-0 flex justify-center items-center bg-opacity-75 z-50 overflow-y-scroll",onClick:v[0]||(v[0]=m((e=>t.$emit("outclick")),["self"]))},[n("div",h,[i(t.$slots,"icon",{},void 0,!0),n("div",null,[n("h3",k,[i(t.$slots,"title",{},(()=>[u(r(e.title),1)]),{}),n("p",S,[i(t.$slots,"message",{},(()=>{var t;return[u(r(null!=(t=e.message)?t:"Â "),1)]}),{})])]),i(t.$slots,"default",{},void 0,!0)]),i(t.$slots,"actions",{},void 0,!0)])])):d("",!0)])),_:3}))},__scopeId:"data-v-6530afc5"};var j=({title:t,RawForm:e,atSubmit:a,atClose:s,atOpen:o,keepAfterSubmit:l,mount_point:n="#sto-modal"},{left:i,right:u}={})=>({render:async(...r)=>{let m;const d=v(!1),c=v(!1),h=v(),k=w(),S=async()=>{c.value=!1,await x(300),m&&(m.unmount(),m=void 0),s&&await s()},j=async()=>{h.value=void 0;let t={};d.value=!0;try{t=await a()}finally{d.value=!1}l||!(null==t?void 0:t.success)?h.value=null==t?void 0:t.message:await S()};m=f(p({setup:()=>()=>g($,{onClose:S,open:c.value,title:y(t)?t.value:t,message:h.value},{default:()=>g(k,{},{default:()=>c.value?g(e):null}),actions:()=>g(b,{onClose:S,onSubmited:j,loading:d.value,left:i,right:u})})})),o instanceof Function&&await o(...r),m.mount(null!=n?n:"#sto-modal"),c.value=!0}});export{j as u};
