import{c as e,o as t,d as s,j as a,J as l,u as i,W as d,X as o,f as n,i as u,l as c,t as r,h as f,ar as y,a2 as m,as as p,n as k}from"./vendor.36c281f3.js";import{M as _}from"./headlessui.esm.b519f347.js";import{_ as b}from"./Button.4b020695.js";import{_ as h}from"./Dropdown.df5c89e3.js";import{_ as $,a as g,b as j,c as v,d as x,e as w}from"./Th.32cd08d3.js";import{u as D}from"./useIntersectionObserver.7ad3d6a4.js";const B=c("Действия"),E={props:{fields:{type:Array,default:[]},items:{type:Array,default:[]},actions:{type:Boolean,default:!0},last:{type:Boolean,default:!1},noDelete:{type:Function,default:()=>!1},noEdit:{type:Function,default:()=>!1}},emits:["delete","edit","bottomTouched"],setup(E,{emit:T}){const A=E,{pixel:F,container:I}=D((()=>{T("bottomTouched")}),e((()=>A.items.length>0))),J=e=>A.noDelete(e)&&A.noEdit(e);return(e,D)=>(t(),s("div",{ref:e=>I.value=e},[a(i(w),{class:k([e.$attrs.class,"mt-5"])},{default:l((()=>[a(i($),null,{default:l((()=>[a(i(g),null,{default:l((()=>[(t(!0),s(d,null,o(A.fields,(s=>(t(),n(i(j),{key:s.key},{default:l((()=>[u(e.$slots,`th-${s.key}`,{label:s.label,field:s},(()=>[c(r(s.label),1)]))])),_:2},1024)))),128)),A.actions?(t(),n(i(j),{key:0,class:"text-center"},{default:l((()=>[B])),_:1})):f("",!0)])),_:3})])),_:3}),a(i(v),null,{default:l((()=>[(t(!0),s(d,null,o(A.items,(($,j)=>(t(),n(i(g),{key:"tr-"+j,class:k(1&j?"bg-white":"bg-gray-100")},{default:l((()=>[(t(!0),s(d,null,o(A.fields,(s=>(t(),n(i(x),{key:`${s.key}-${j}`},{default:l((()=>[u(e.$slots,`td-${null==s?void 0:s.key}`,{value:$[null==s?void 0:s.key],item:$,index:j},(()=>[c(r($[s.key]),1)]))])),_:2},1024)))),128)),A.actions?(t(),n(i(x),{key:0,class:"text-center py-5"},{default:l((()=>[J($)?f("",!0):(t(),n(h,{key:0,direction:"right",position:"center",items:[[{label:"Изменить",click:()=>e.$emit("edit",$.id,$),icon:i(y),hide:A.noEdit($)},{label:"Удалить",click:()=>e.$emit("delete",$.id,$),icon:i(m),hide:A.noDelete($)}]]},{default:l((()=>[a(i(_),null,{default:l((()=>[a(b,{type:"secondary",circle:!0},{default:l((()=>[a(i(p),{class:"w-4 h-4"})])),_:1})])),_:1})])),_:2},1032,["items"]))])),_:2},1024)):f("",!0)])),_:2},1032,["class"])))),128)),A.last?(t(),n(i(g),{key:0,class:k(1&A.items.length?"bg-white":"bg-gray-100")},{default:l((()=>[(t(!0),s(d,null,o(A.fields,(s=>(t(),n(i(x),{key:`las-${s.key}-${e.i}`},{default:l((()=>[u(e.$slots,`td-last-${s.key}`,{items:E.items})])),_:2},1024)))),128)),A.actions?(t(),n(i(x),{key:0,class:"text-center py-5"})):f("",!0)])),_:3},8,["class"])):f("",!0)])),_:3})])),_:3},8,["class"]),a(i(F))],512))}};export{E as _};
