import{$ as e,_ as a}from"./drop.cce90c26.js";import{H as s,a as t,ag as o,V as r,o as n,f as l,J as i,e as c,j as d,l as m,t as p,u,aM as f,d as b}from"./vendor.36c281f3.js";import{u as w}from"./useSuspense.29183c13.js";import{_ as j}from"./Link.4e9a6f0f.js";import{_ as k}from"./Table.ec42ea9a.js";import{_ as v}from"./Badge.4bd69676.js";import{a as y}from"./index.8fc70fb6.js";import"./useAvatar.7737e550.js";import"./Spinner.2e0ab286.js";import"./headlessui.esm.b519f347.js";import"./Button.4b020695.js";import"./Dropdown.df5c89e3.js";import"./Th.32cd08d3.js";import"./useIntersectionObserver.7ad3d6a4.js";const _=s({raw:[],links:[]});var x={state:t(_),load:async a=>{_.raw=await e.orders(a)},drop:async e=>a.order(e,(e=>_.raw.deleteById(e))),reset:()=>{_.raw=[],_.templates=[]},loadLinks:async a=>{const{pdf:s}=await e({key:`documents/${a}/generate`});_.links=s}};const{loadLinks:h,state:g}=x;let B;const L=e=>{window.open(e,e,"directories=no,titlebar=no,toolbar=no,location=no,status=no,menubar=no,scrollbars=no,resizable=no,left=300,top=100")},M=()=>o((()=>{B=void 0}));var C=e=>(B||(B=async()=>{await h(e)}),{clearMemo:M,foo:L,state:g,prepare:B});const I={class:"max-w-md w-full inline-block"},S={emits:["preview"],async setup(e){let a,s;const{prepare:t,state:o}=C(),b=[{label:"Название",key:"name"},{label:"Посмотреть",key:"link"}];return[a,s]=r((()=>t())),a=await a,s(),(e,a)=>(n(),l(k,{fields:b,items:u(o).links,actions:!1},{"td-label":i((({value:e})=>[c("span",I,[d(v,{point:!0,color:"blue",class:"text-sm"},{default:i((()=>[m(p(e),1)])),_:2},1024)])])),"td-link":i((({value:a})=>[d(j,{onClick:s=>e.$emit("preview",a)},{default:i((()=>[d(u(f),{class:"text-blue-600 h-6 hover:text-blue-900"})])),_:2},1032,["onClick"])])),_:1},8,["items"]))}},T={setup(e){const a=w(),{route:s}=y(),{clearMemo:t,foo:o}=C(s.params.id);return t(),(e,s)=>(n(),b("div",null,[d(u(a),null,{default:i((()=>[d(S,{onPreview:s[0]||(s[0]=e=>u(o)(e))})])),_:1})]))}};export{T as default};
