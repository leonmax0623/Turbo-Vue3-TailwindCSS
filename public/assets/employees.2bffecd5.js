import{$ as e,_ as s}from"./drop.cce90c26.js";import{b as l}from"./useAvatar.7737e550.js";import{e as d}from"./index.8fc70fb6.js";import{H as o,c as a,a as t}from"./vendor.36c281f3.js";const r=d(["read users","crud users"]),i=o({employees:[],selectedId:void 0,loading:!1}),m=e=>{e=Number(e),i.selectedId=Number.isNaN(e)?void 0:e},n=a((()=>{var e;return i.selectedId&&null!=(e=i.employees.find((({id:e})=>e===i.selectedId)))?e:{}}));var c={state:t(i),reset:()=>{i.employees=[],i.selectedId=void 0,i.loading=!1},load:async s=>{r&&(i.loading=!0,i.employees=await e.users(s),i.loading=!1)},drop:async e=>s.user(e,(e=>{i.employees.deleteById(e)&&m()})),sort:e=>{i.employees.sort(e)},select:m,selectedUser:n,options:a((()=>i.employees.map((({id:e,name:s,middle_name:l})=>({label:`${null!=s?s:""} ${null!=l?l:""}`,value:e}))))),count:a((()=>i.employees.length)),selected:a((()=>!!n.value.id)),directory:a((()=>l(i.employees,"middle_name",(({id:e,name:s,middle_name:l,office_position:d,avatar:o})=>({id:e,title:`${null!=s?s:""} ${null!=l?l:""}`,subtitle:`${null!=d?d:""}`,image:`${null!=o?o:""}`})))))};export{c as s};
