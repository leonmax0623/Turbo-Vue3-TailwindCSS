import{r as a,c as e,w as s,o as l,d as t,j as r,J as o,u as i,b5 as d,l as m,t as n,h as u,e as p,aE as c,f}from"./vendor.36c281f3.js";import{_ as v}from"./Link.4e9a6f0f.js";import{_}from"./Spinner.2e0ab286.js";import{_ as b}from"./Badge.4bd69676.js";import{_ as j}from"./Avatar.4eeca634.js";import{_ as w}from"./Table.e1bf0ba6.js";import{u as x}from"./useSuspense.29183c13.js";import{a as h}from"./index.8fc70fb6.js";import{s as y}from"./index.e517b156.js";import{_ as k}from"./DiagnosticCardPreview.d449045c.js";import{$ as g}from"./drop.cce90c26.js";import{l as D}from"./useAvatar.7737e550.js";import"./Table.ec42ea9a.js";import"./headlessui.esm.b519f347.js";import"./Button.4b020695.js";import"./Dropdown.df5c89e3.js";import"./Th.32cd08d3.js";import"./useIntersectionObserver.7ad3d6a4.js";import"./index.866650bf.js";import"./useOrder.941ce970.js";import"./departments.4f88a00d.js";import"./useConfirmDialog.ba73d887.js";import"./Dialog.b36041f9.js";const $={class:"mx-auto max-w-6xl"},C={key:0,class:"my-9 flex justify-center items-center"},T=m("Загрузка шаблона..."),V={key:1,class:"my-9"},A={key:0,class:"mb-3 flex justify-between items-center"},B=m("распечатать "),O={key:1,class:"flex gap-3 flex-wrap justify-between items-center border-gray-300 border rounded shadow p-6 px-9 mb-3"},S={class:"text-center"},E=p("p",{class:"text-gray-600"},"Автомобиль",-1),I={class:"text-right"},J={class:"text-sm flex items-center mb-3"},L=p("span",{class:"mr-1"},"Крайний срок:",-1),P={class:"text-gray-500"},U={setup(U){const{state:q}=y,z=a(),F=a(),G=e((()=>q.raw.find((({is_map:a,id:e})=>a&&e===F.value)))),H=a(!1);s(G,(async a=>{const{map_id:e}=a.task_map;e&&(H.value=!0,z.value=await g.map(e),H.value=!1)}));const K=x(),{route:M}=h();return(a,e)=>{var s,x,h,y,g,U,q,N,Q,R,W,X,Y,Z,aa,ea;return l(),t("div",$,[r(i(K),null,{default:o((()=>[r(w,{is_map:!0,order_id:i(M).params.id,modelValue:F.value,"onUpdate:modelValue":e[0]||(e[0]=a=>F.value=a)},null,8,["order_id","modelValue"])])),_:1}),H.value?(l(),t("div",C,[r(_,{w:"4",h:"4"},{default:o((()=>[T])),_:1})])):(l(),t("div",V,[z.value?(l(),t("div",A,[r(v,{class:"flex",onClick:e[1]||(e[1]=a=>{window.print()})},{default:o((()=>[B,r(i(d),{class:"ml-6 text-blue-600 w-6 h-6"})])),_:1}),r(b,{point:!0,color:"blue",class:"m-2 p-1 cursor-pointer hover:shadow-lg shadow transition-shadow duration-300 ease-out"},{default:o((()=>[m(n(i(G).name),1)])),_:1})])):u("",!0),i(G)?(l(),t("div",O,[r(j,{title:`${null!=(x=null==(s=i(G).author)?void 0:s.name)?x:""} ${null!=(y=null==(h=i(G).author)?void 0:h.middle_name)?y:""}`,subtitle:null==(g=i(G).author)?void 0:g.office_position,image:null==(U=i(G).author)?void 0:U.avatar},null,8,["title","subtitle","image"]),p("div",S,[E,p("p",null,n(`${null!=(W=null==(R=null==(Q=null==(N=null==(q=i(G))?void 0:q.order.car)?void 0:N.car_model)?void 0:Q.car_mark)?void 0:R.name)?W:""} ${null!=(aa=null==(Z=null==(Y=null==(X=i(G))?void 0:X.order.car)?void 0:Y.car_model)?void 0:Z.name)?aa:"_"}`),1)]),p("div",I,[p("div",J,[r(i(c),{class:"w-4 h-4 mr-1"}),L,p("span",P,n(i(G).deadline_at),1)]),r(b,{point:!0,color:i(D)[i(G).status].color},{default:o((()=>[m(n(i(D)[i(G).status].label),1)])),_:1},8,["color"])])])):u("",!0),z.value?(l(),f(k,{key:2,task_id:i(G).id,map_answer:i(G).map_answer,fields:null!=(ea=z.value.data)?ea:[],dc_template:z.value,task:i(G),disabled:!0},null,8,["task_id","map_answer","fields","dc_template","task"])):u("",!0)]))])}}};export{U as default};
