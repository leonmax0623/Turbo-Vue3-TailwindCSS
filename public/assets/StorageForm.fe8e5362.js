import{V as e,o as l,d as a,e as o,j as s,u as r,f as d,J as t,av as m,v as u,a2 as c,h as n,l as p}from"./vendor.36c281f3.js";import{_ as i}from"./Office.55bfbecd.js";import{_ as f}from"./Button.4b020695.js";import{_ as b}from"./Input.b03a61c6.js";import{_ as v}from"./TextArea.fcc59b75.js";import{_ as V}from"./UploadImage.edadea89.js";import{_ as j}from"./Select.bf4a4e1e.js";import{f as g}from"./form.8a1db4fc.js";import{s as _}from"./producers.56ce0372.js";import{u as U}from"./useSuspense.29183c13.js";import"./headlessui.esm.b519f347.js";import"./Avatar.4eeca634.js";import"./useAvatar.7737e550.js";import"./index.8fc70fb6.js";import"./Dropdown.df5c89e3.js";import"./NavBar.2f63176e.js";import"./departments.4f88a00d.js";import"./drop.cce90c26.js";import"./meta.48f5205a.js";import"./ExclamationCircleIcon.22c0ccb9.js";import"./storage-requests.df03da5b.js";import"./useConfirmDialog.ba73d887.js";import"./Dialog.b36041f9.js";import"./Spinner.2e0ab286.js";const w={class:"flex flex-col lg:flex-row"},x={class:"lg:w-96"},y={class:"flex-grow space-y-6"},h={class:"grid grid-cols-12 gap-6"},P={class:"col-span-12 sm:col-span-3"},$={class:"col-span-12 sm:col-span-3"},k={class:"col-span-12 sm:col-span-3"},B={class:"col-span-12 sm:col-span-3"},S={class:"col-span-12 sm:col-span-4"},A={class:"col-span-12 sm:col-span-4"},C={class:"col-span-12 sm:col-span-4"},q={class:"col-span-12 sm:col-span-12"},D={async setup(d){let t,m;const{load:u,options:c}=_,{isValideAvatarFileSize:n,log:p,avatar:i,product:f,v$:U,atMountedProductForm:D,isUploadingAvatar:I}=g();return[t,m]=e((()=>Promise.all([u(),D()]))),t=await t,m(),(e,d)=>{var t,m;return l(),a("div",w,[o("div",x,[s(V,{rounded:!1,onSelected:r(p),image:r(i),label:"Фото",class:"mb-3",full:!0,error:r(n)?"":"Размер фото не должен превышать 10000 Кб",loader:r(I)},null,8,["onSelected","image","error","loader"])]),o("div",y,[o("div",h,[o("div",P,[s(b,{label:"Название",modelValue:r(f).name,"onUpdate:modelValue":d[0]||(d[0]=e=>r(f).name=e),required:!0,error:null==(t=r(U).name.$errors[0])?void 0:t.$message,onBlured:r(U).name.$touch},null,8,["modelValue","error","onBlured"])]),o("div",$,[s(b,{label:"Количество",type:"number",modelValue:r(f).count,"onUpdate:modelValue":d[1]||(d[1]=e=>r(f).count=e),required:!0,error:null==(m=r(U).count.$errors[0])?void 0:m.$message,onBlured:r(U).count.$touch},null,8,["modelValue","error","onBlured"])]),o("div",k,[s(b,{label:"Артикул",modelValue:r(f).sku,"onUpdate:modelValue":d[2]||(d[2]=e=>r(f).sku=e)},null,8,["modelValue"])]),o("div",B,[s(b,{label:"Место на складе",modelValue:r(f).place,"onUpdate:modelValue":d[3]||(d[3]=e=>r(f).place=e)},null,8,["modelValue"])]),o("div",S,[s(j,{label:"Производитель",options:r(c),modelValue:r(f).producer_id,"onUpdate:modelValue":d[4]||(d[4]=e=>r(f).producer_id=e)},null,8,["options","modelValue"])]),o("div",A,[s(b,{label:"Стоимость в закупке",type:"number",modelValue:r(f).input_sum,"onUpdate:modelValue":d[5]||(d[5]=e=>r(f).input_sum=e)},null,8,["modelValue"])]),o("div",C,[s(b,{label:"Стоимость для реализации",type:"number",modelValue:r(f).output_sum,"onUpdate:modelValue":d[6]||(d[6]=e=>r(f).output_sum=e)},null,8,["modelValue"])]),o("div",q,[s(v,{label:"Описание",rows:"5",modelValue:r(f).description,"onUpdate:modelValue":d[7]||(d[7]=e=>r(f).description=e)},null,8,["modelValue"])])])])])}}},I=p("Вернуться "),E=p("Сохранить "),F=p("Удалить "),z={setup(e){const a=U(D),{previousPage:o,saveProduct:p,isEditProductPage:b,dropProduct:v}=g();return(e,V)=>(l(),d(i,{title:r(b)?"Изменение товара":"Добавить товар"},{actions:t((()=>[s(f,{type:"secondary",onClick:V[0]||(V[0]=()=>r(o)())},{default:t((()=>[s(r(m),{class:"w-5 h-5 mr-1"}),I])),_:1}),s(f,{color:"green",onClick:V[1]||(V[1]=()=>r(p)())},{default:t((()=>[s(r(u),{class:"w-5 h-5 mr-1"}),E])),_:1}),r(b)?(l(),d(f,{key:0,color:"red",onClick:V[2]||(V[2]=()=>r(v)())},{default:t((()=>[s(r(c),{class:"w-5 h-5 mr-1"}),F])),_:1})):n("",!0)])),default:t((()=>[s(r(a))])),_:1},8,["title"]))}};export{z as default};
